{"version":3,"sources":["webpack:///./src/beinformed/modules/Error/ErrorBoundary.js","webpack:///./src/beinformed/client.js","webpack:///./src/client.js"],"names":[],"mappings":"srBACA,43BAWM,cACQ,aAA2B,qEAGrC,SAID,SAJM,MACH,OACA,eAAW,cALf,4CAS8B,aAE5B,MAAK,SACH,CACA,QAKH,8CAGC,OAAI,MAAK,MAEP,iDAGoB,CAAE,WAAY,oBAC3B,KAAK,MAAM,OAAS,KAAK,MAAM,MAAM,aAErC,KAAK,MAAM,UAOpB,iBAAO,KAAK,MACb,gBAGY,sbClCf,QAGoC,ibCpBpC,IAEA,CDkBe,UAAiD,2DAC9D,KAAM,EAAc,SAAS,cAG7B,qEACE,QAAM,IAAI,OAEZ,0CAAM,GAAO,KAAK,MAAM,EAExB,gBAAa,IAAT,MAIJ,CAJqB,UAAY,QAAM,QAIvC,IAEA,WAAM,GAAQ,OAEd,eAAO,qBAAuB,WAC5B,OAAI,GACF,OAAO,IAAa,UAClB,IAAM,GAAe,EAAM,OAAO,OAAO,QAEzC,mBAAM,SAAS,OACf,SAAM,EAAM,OACb,MAIJ,IAED,EAAI,SACF,gBAAS,KAAK,UAGhB,wBACG,gBACE,2BACE,IAHP,CAGuB,aAAQ,QAG7B,SAAS,eAEZ,gBA1CD,GClBA,EAUC","file":"client.488c719135b31d30156d.js","sourcesContent":["// @flow\nimport React, { Component } from \"react\";\n\ntype ErrorBoundaryProps = {\n  children: any\n};\n\ntype ErrorBoundaryState = {\n  error: any,\n  errorInfo: any\n};\n\nclass ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n\n    this.state = {\n      error: null,\n      errorInfo: null\n    };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    // Display fallback UI\n    this.setState({\n      error,\n      errorInfo\n    });\n\n    // You can also log the error to an error reporting service\n    // logErrorToMyService(error, info);\n  }\n\n  render() {\n    if (this.state.errorInfo) {\n      // Error path\n      return (\n        <div>\n          <h2>Something went wrong.</h2>\n          <details style={{ whiteSpace: \"pre-wrap\" }}>\n            {this.state.error && this.state.error.toString()}\n            <br />\n            {this.state.errorInfo.componentStack}\n          </details>\n        </div>\n      );\n    }\n\n    // Normally, just render children\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n\n\n\n// WEBPACK FOOTER //\n// ./src/beinformed/modules/Error/ErrorBoundary.js","// @flow\nimport React from \"react\";\nimport { hydrate } from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport setImmediate from \"setimmediate\";\nimport { AppContainer } from \"react-hot-loader\";\n\nimport Cache from \"beinformed/util/browser/Cache\";\nimport { createClientStore } from \"beinformed/redux/createStore\";\nimport { showXHRErrorNotification } from \"beinformed/modules/Notification/redux/NotificationActions\";\nimport ApplicationContainer from \"beinformed/modules/Application/ApplicationContainer\";\nimport ErrorBoundary from \"beinformed/modules/Error/ErrorBoundary\";\n\n// Enable React Axe for a11y test (manual): @see https://github.com/dylanb/react-axe\n// import ReactDOM from 'react-dom';\n// import axe from 'react-axe';\n//\n// axe(React, ReactDOM, 1000);\n\n/**\n * Mount the webapplication to the DOM, used client side when JavaScript is enabled.\n */\nconst client = (application: any = <ApplicationContainer />) => {\n  const dataElement = document.querySelector(\n    'script[type=\"application/json\"][data-app-state=\"app-json\"]'\n  );\n  if (!dataElement) {\n    throw new Error(\"Error loading state, json not found\");\n  }\n  const data = JSON.parse(dataElement.textContent);\n\n  if (data === null || Object.keys(data).length === 0) {\n    return;\n  }\n\n  Cache.clear();\n\n  const store = createClientStore(data);\n\n  window.onunhandledrejection = event => {\n    if (event.detail) {\n      return setImmediate(() => {\n        const errorMessage = event.detail.reason.message.toString();\n\n        store.dispatch(showXHRErrorNotification(errorMessage));\n        throw event.detail.reason;\n      });\n    }\n\n    return event;\n  };\n\n  if (document.body) {\n    document.body.className = \"js\";\n  }\n\n  hydrate(\n    <ErrorBoundary>\n      <AppContainer>\n        <Provider store={store}>{application}</Provider>\n      </AppContainer>\n    </ErrorBoundary>,\n    document.getElementById(\"application\")\n  );\n};\n\nexport { client };\n\n\n\n// WEBPACK FOOTER //\n// ./src/beinformed/client.js","import React from \"react\";\nimport { client } from \"beinformed/client\";\nimport ApplicationContainer from \"beinformed/modules/Application/ApplicationContainer\";\n\nclient(<ApplicationContainer />);\n\n// When Hot Module Replacement is enabled\nif (module.hot) {\n  module.hot.accept(\n    \"./beinformed/modules/Application/ApplicationContainer\",\n    () => {\n      client(ApplicationContainer);\n    }\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client.js"],"sourceRoot":""}